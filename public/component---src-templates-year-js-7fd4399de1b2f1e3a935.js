"use strict";(self.webpackChunkgatsby_starter_default=self.webpackChunkgatsby_starter_default||[]).push([[31],{2326:function(e,t,a){var l=a(4506),n=a(6540),s=a(4794);t.A=e=>{var t;let{concert:a}=e;const r=()=>{const e=(0,l.A)(a.bands);return a.isFestival||e.shift(),e.map((e=>n.createElement(s.Link,{to:`/band/${e.slug}`,key:e.id,className:"badge bg-primary mr-2"},e.name)))},c=()=>{var e,t,l,n,s,r;console.log("Band:",a.bands[0].name),console.log("Last.fm data:",null===(e=a.bands[0].fields)||void 0===e?void 0:e.lastfm),console.log("Last.fm images:",null===(t=a.bands[0].fields)||void 0===t||null===(l=t.lastfm)||void 0===l?void 0:l.images);const c=null===(n=a.bands[0].fields)||void 0===n||null===(s=n.lastfm)||void 0===s?void 0:s.images,d=(null==c?void 0:c.extralarge)||(null==c?void 0:c.large)||(null==c?void 0:c.medium);if(d&&""!==d.trim())return console.log("Using Last.fm image:",d),d;const i=null===(r=a.bands[0].image)||void 0===r?void 0:r.file.url;return console.log("Using Contentful image:",i),i};return n.createElement("li",{className:"concert-card card "+(a.date>(new Date).toISOString()?"future":"")},n.createElement("div",{className:"concert-card-image",style:{backgroundImage:c()?`url(${c()})`:"none"}}),n.createElement("div",{className:"concert-card-body"},n.createElement("h3",{className:"card-title"},a.isFestival?a.festival.name:n.createElement(s.Link,{to:`/band/${a.bands[0].slug}`},a.bands[0].name)),n.createElement("span",null,new Date(a.date).toLocaleDateString("de-DE",{year:"numeric",month:"long",day:"numeric"})),r()&&n.createElement("div",{className:"bands"},r())),n.createElement("div",{className:"concert-card-location"},n.createElement("div",null,n.createElement("div",{className:"club"},a.club),n.createElement("div",{className:"city"},n.createElement(s.Link,{to:`/city/${null===(t=a.fields.geocoderAddressFields._normalized_city)||void 0===t?void 0:t.toLowerCase()}`},a.fields.geocoderAddressFields._normalized_city)))))}},5575:function(e,t,a){a.r(t);var l=a(6540),n=a(8595),s=a(2326),r=a(9426),c=a(2269);t.default=e=>{let{data:{allContentfulConcert:t},pageContext:{year:a,gt:d,lt:i}}=e;return l.createElement(n.A,null,l.createElement("main",null,l.createElement(c.A,{title:a}),l.createElement("h2",null,a,l.createElement(r.A,{concerts:t})),l.createElement("ul",{className:"list-unstyled"},t.edges.map((e=>{let{node:t}=e;return l.createElement(s.A,{key:t.id,concert:t})})))))}}}]);
//# sourceMappingURL=component---src-templates-year-js-7fd4399de1b2f1e3a935.js.map