"use strict";(self.webpackChunkgatsby_starter_default=self.webpackChunkgatsby_starter_default||[]).push([[797],{2326:function(e,a,t){var l=t(4506),n=t(6540),s=t(4794);a.A=e=>{var a;let{concert:t}=e;const c=()=>{const e=(0,l.A)(t.bands);return t.isFestival||e.shift(),e.map((e=>n.createElement(s.Link,{to:`/band/${e.slug}`,key:e.id,className:"badge bg-primary mr-2"},e.name)))},r=()=>{var e,a,l,n,s,c;console.log("Band:",t.bands[0].name),console.log("Last.fm data:",null===(e=t.bands[0].fields)||void 0===e?void 0:e.lastfm),console.log("Last.fm images:",null===(a=t.bands[0].fields)||void 0===a||null===(l=a.lastfm)||void 0===l?void 0:l.images);const r=null===(n=t.bands[0].fields)||void 0===n||null===(s=n.lastfm)||void 0===s?void 0:s.images,i=(null==r?void 0:r.extralarge)||(null==r?void 0:r.large)||(null==r?void 0:r.medium);if(i&&""!==i.trim())return console.log("Using Last.fm image:",i),i;const d=null===(c=t.bands[0].image)||void 0===c?void 0:c.file.url;return console.log("Using Contentful image:",d),d};return n.createElement("li",{className:"concert-card card "+(t.date>(new Date).toISOString()?"future":"")},n.createElement("div",{className:"concert-card-image",style:{backgroundImage:r()?`url(${r()})`:"none"}}),n.createElement("div",{className:"concert-card-body"},n.createElement("h3",{className:"card-title"},t.isFestival?t.festival.name:n.createElement(s.Link,{to:`/band/${t.bands[0].slug}`},t.bands[0].name)),n.createElement("span",null,new Date(t.date).toLocaleDateString("de-DE",{year:"numeric",month:"long",day:"numeric"})),c()&&n.createElement("div",{className:"bands"},c())),n.createElement("div",{className:"concert-card-location"},n.createElement("div",null,n.createElement("div",{className:"club"},t.club),n.createElement("div",{className:"city"},n.createElement(s.Link,{to:`/city/${null===(a=t.fields.geocoderAddressFields._normalized_city)||void 0===a?void 0:a.toLowerCase()}`},t.fields.geocoderAddressFields._normalized_city)))))}},3769:function(e,a,t){t.r(a);var l=t(6540),n=t(8595),s=t(2326),c=t(9426),r=t(2269);a.default=e=>{let{data:{allContentfulConcert:a},pageContext:{name:t}}=e;return console.log("city name",t,a),l.createElement(n.A,null,l.createElement("main",null,l.createElement(r.A,{title:t}),l.createElement("h2",null,t,l.createElement(c.A,{concerts:a})),l.createElement("ul",{className:"list-unstyled"},a.edges.map((e=>{let{node:a}=e;return l.createElement(s.A,{key:a.id,concert:a})})))))}}}]);
//# sourceMappingURL=component---src-templates-city-js-e79af0dd5b44f5b44819.js.map