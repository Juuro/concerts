{"version":3,"file":"component---src-templates-city-js.js","mappings":"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","sources":["webpack://gatsby-starter-default/./src/components/ConcertCard/concertCard.js","webpack://gatsby-starter-default/./src/components/ConcertCount/concertCount.js","webpack://gatsby-starter-default/./src/components/Header/header.js","webpack://gatsby-starter-default/./src/components/layout.js","webpack://gatsby-starter-default/./src/components/seo.js","webpack://gatsby-starter-default/./src/templates/city.js"],"sourcesContent":["import PropTypes from \"prop-types\"\nimport React from \"react\"\nimport { Link } from \"gatsby\"\n\nimport \"./concertCard.scss\"\n\nconst ConcertCard = ({ concert }) => {\n  const heading = () => {\n    if (concert.isFestival) {\n      return concert.festival.name\n    }\n    return (\n      <Link to={`/band/${concert.bands[0].slug}`}>{concert.bands[0].name}</Link>\n    )\n  }\n\n  const bands = () => {\n    const bands = [...concert.bands]\n    // TODO: Badges as seperate (tag) component?\n    if (concert.isFestival) {\n      return bands.map((band) => {\n        return (\n          <Link\n            to={`/band/${band.slug}`}\n            key={band.id}\n            className=\"badge bg-primary mr-2\"\n          >\n            {band.name}\n          </Link>\n        )\n      })\n    } else {\n      bands.shift()\n      return bands.map((band) => {\n        return (\n          <Link\n            to={`/band/${band.slug}`}\n            key={band.id}\n            className=\"badge bg-primary mr-2\"\n          >\n            {band.name}\n          </Link>\n        )\n      })\n    }\n  }\n\n  const isInTheFuture = () => {\n    if (concert.date > new Date().toISOString()) {\n      return \"future\"\n    }\n    return \"\"\n  }\n\n  const getDate = () => {\n    const date = new Date(concert.date)\n    return date.toLocaleDateString(\"de-DE\", {\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n    })\n  }\n\n  // Get image URL - prefer Last.fm, fallback to Contentful\n  const getImageUrl = () => {\n    const lastfmImages = concert.bands[0].fields?.lastfm?.images\n    const lastfmImage =\n      lastfmImages?.extralarge || lastfmImages?.large || lastfmImages?.medium\n\n    const LASTFM_PLACEHOLDER = \"2a96cbd8b46e442fc41c2b86b821562f\"\n\n    // DEBUG: Log for popular bands\n    if (\n      concert.bands[0].name === \"Die √Ñrzte\" ||\n      concert.bands[0].name === \"Kraftklub\" ||\n      concert.bands[0].name === \"Rammstein\"\n    ) {\n      console.log(`=== ${concert.bands[0].name} ===`)\n      console.log(\"Last.fm images:\", lastfmImages)\n      console.log(\"Selected image:\", lastfmImage)\n      console.log(\"Has placeholder?\", lastfmImage?.includes(LASTFM_PLACEHOLDER))\n    }\n\n    if (\n      lastfmImage &&\n      lastfmImage.trim() !== \"\" &&\n      !lastfmImage.includes(LASTFM_PLACEHOLDER)\n    ) {\n      return lastfmImage\n    }\n\n    return concert.bands[0].image?.file.url\n  }\n\n  return (\n    <li className={`concert-card card ${isInTheFuture()}`}>\n      <div\n        className=\"concert-card-image\"\n        style={{\n          backgroundImage: getImageUrl() ? `url(${getImageUrl()})` : \"none\",\n        }}\n      ></div>\n      <div className=\"concert-card-body\">\n        <h3 className=\"card-title\">{heading()}</h3>\n        <span>{getDate()}</span>\n        {bands() && <div className=\"bands\">{bands()}</div>}\n      </div>\n      <div className=\"concert-card-location\">\n        <div>\n          <div className=\"club\">{concert.club}</div>\n          <div className=\"city\">\n            <Link\n              to={`/city/${concert.fields.geocoderAddressFields._normalized_city?.toLowerCase()}`}\n            >\n              {concert.fields.geocoderAddressFields._normalized_city}\n            </Link>\n          </div>\n        </div>\n      </div>\n    </li>\n  )\n}\n\nConcertCard.propTypes = {\n  concert: PropTypes.object,\n}\n\nexport default ConcertCard\n","import PropTypes from \"prop-types\"\nimport React from \"react\"\n\nconst ConcertCount = ({ concerts }) => {\n  const now = new Date()\n\n  const concertsInPast = () =>\n    concerts.edges.filter(({ node }) => new Date(node.date) < now)\n\n  const concertsInFuture = () =>\n    concerts.edges.filter(({ node }) => new Date(node.date) > now)\n\n  return (\n    <span\n      className=\"badge rounded-pill\"\n      title={`${concertsInFuture().length} concerts planned`}\n    >\n      <span\n        className=\"past badge bg-primary rounded-pill\"\n        title={`${concertsInPast().length} concerts visited`}\n      >\n        {concertsInPast().length}\n      </span>\n      {concertsInFuture().length}\n    </span>\n  )\n}\n\nConcertCount.propTypes = {\n  concert: PropTypes.object,\n}\n\nexport default ConcertCount\n","import { Link } from \"gatsby\"\nimport PropTypes from \"prop-types\"\nimport React from \"react\"\n\nimport ConcertCount from \"../ConcertCount/concertCount\"\n\nimport \"./header.scss\"\n\nconst Header = ({ siteTitle = \"\", concerts }) => (\n  <header className=\"bg-light shadow-sm\">\n    <div className=\"container\">\n      <h1>\n        <Link to=\"/\">{siteTitle}</Link>\n      </h1>\n      <wbr />\n      <ConcertCount concerts={concerts} />\n\n      <nav>\n        <a href=\"/\">Home</a>\n        <a href=\"/map\">Map</a>\n      </nav>\n    </div>\n  </header>\n)\n\nHeader.propTypes = {\n  siteTitle: PropTypes.string,\n}\n\nexport default Header\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { useStaticQuery, graphql } from \"gatsby\"\n\nimport Header from \"./Header/header\"\n\nimport \"../styles/layout.scss\"\n\nconst Layout = ({ children }) => {\n  const data = useStaticQuery(graphql`\n    query SiteTitleQuery {\n      site {\n        siteMetadata {\n          title\n        }\n      }\n      allContentfulConcert(sort: { date: DESC }) {\n        edges {\n          node {\n            ...ContentfulConcertFields\n          }\n        }\n        totalCount\n      }\n    }\n  `)\n  return (\n    <>\n      <Header\n        siteTitle={data.site.siteMetadata.title}\n        concerts={data.allContentfulConcert}\n      />\n\n      {children}\n\n      <footer>¬© {new Date().getFullYear()} ¬∑ Built with ‚ù§Ô∏è on üåç! ü§üüè≥Ô∏è‚Äçüåà</footer>\n    </>\n  )\n}\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n}\n\nexport default Layout\n","/**\n * SEO component that queries for data with\n *  Gatsby's useStaticQuery React hook\n *\n * See: https://www.gatsbyjs.org/docs/use-static-query/\n */\n\nimport React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Helmet from \"react-helmet\"\nimport { useStaticQuery, graphql } from \"gatsby\"\n\nconst Seo = ({ description = \"\", lang = \"en\", meta = [], title }) => {\n  const { site } = useStaticQuery(graphql`\n    query {\n      site {\n        siteMetadata {\n          title\n          description\n          author\n        }\n      }\n    }\n  `)\n\n  const metaDescription = description || site.siteMetadata.description\n\n  return (\n    <Helmet\n      htmlAttributes={{\n        lang,\n      }}\n      title={title}\n      titleTemplate={`%s | ${site.siteMetadata.title}`}\n      meta={[\n        {\n          name: `description`,\n          content: metaDescription,\n        },\n        {\n          property: `og:title`,\n          content: title,\n        },\n        {\n          property: `og:description`,\n          content: metaDescription,\n        },\n        {\n          property: `og:type`,\n          content: `website`,\n        },\n        {\n          name: `twitter:card`,\n          content: `summary`,\n        },\n        {\n          name: `twitter:creator`,\n          content: site.siteMetadata.author,\n        },\n        {\n          name: `twitter:title`,\n          content: title,\n        },\n        {\n          name: `twitter:description`,\n          content: metaDescription,\n        },\n      ].concat(meta)}\n    />\n  )\n}\n\nSeo.propTypes = {\n  description: PropTypes.string,\n  lang: PropTypes.string,\n  meta: PropTypes.arrayOf(PropTypes.object),\n  title: PropTypes.string.isRequired,\n}\n\nexport default Seo\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { graphql } from \"gatsby\"\n\nimport Layout from \"../components/layout\"\nimport ConcertCard from \"../components/ConcertCard/concertCard\"\nimport ConcertCount from \"../components/ConcertCount/concertCount\"\nimport Seo from \"../components/seo\"\n\nconst City = ({\n  data: { allContentfulConcert: concerts },\n  pageContext: { name },\n}) => {\n  console.log(\"city name\", name, concerts)\n\n  return (\n    <Layout>\n      <main>\n        <Seo title={name} />\n        <h2>\n          {name}\n          <ConcertCount concerts={concerts} />\n        </h2>\n\n        <ul className=\"list-unstyled\">\n          {concerts.edges.map(({ node: concert }) => {\n            return <ConcertCard key={concert.id} concert={concert} />\n          })}\n        </ul>\n      </main>\n    </Layout>\n  )\n}\n\nCity.propTypes = {\n  data: PropTypes.shape({\n    allContentfulBand: PropTypes.shape({\n      name: PropTypes.string.isRequired,\n    }),\n  }).isRequired,\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default City\n\nexport const pageQuery = graphql`\n  query CityQuery($name: String!) {\n    allContentfulConcert(\n      sort: { date: DESC }\n      filter: {\n        fields: { geocoderAddressFields: { _normalized_city: { eq: $name } } }\n      }\n    ) {\n      edges {\n        node {\n          ...ContentfulConcertFields\n        }\n      }\n      totalCount\n    }\n  }\n`\n"],"names":["PropTypes","React","Link","ConcertCard","concert","_concert$fields$geoco","heading","isFestival","festival","name","createElement","to","bands","slug","map","band","key","id","className","shift","isInTheFuture","date","Date","toISOString","getDate","toLocaleDateString","year","month","day","getImageUrl","_concert$bands$0$fiel","_concert$bands$0$fiel2","_concert$bands$0$imag","lastfmImages","fields","lastfm","images","lastfmImage","extralarge","large","medium","LASTFM_PLACEHOLDER","console","log","includes","trim","image","file","url","style","backgroundImage","club","geocoderAddressFields","_normalized_city","toLowerCase","propTypes","object","ConcertCount","concerts","now","concertsInPast","edges","filter","node","concertsInFuture","title","length","Header","siteTitle","href","string","Layout","children","data","staticQueryData","Fragment","site","siteMetadata","allContentfulConcert","getFullYear","isRequired","Helmet","Seo","description","lang","meta","metaDescription","htmlAttributes","titleTemplate","content","property","author","concat","arrayOf","City","pageContext","shape","allContentfulBand","location","pathname","pageQuery"],"sourceRoot":""}